realpath() {
    [[ $1 = /* ]] && echo "$1" || echo "$PWD/${1#./}"
}

layout_python-venv() {
    local interpreter=${1:-python3}
    local env_dir=$PWD/${2:-venv}

    if [[ ! -d $env_dir ]]; then
        log_status "no venv found; creating $env_dir"
        "$interpreter" -m venv "$env_dir"
    fi

    unset PYTHONHOME
    export VIRTUAL_ENV=$env_dir
    export PATH="${env_dir}/bin:${PATH}"
}
